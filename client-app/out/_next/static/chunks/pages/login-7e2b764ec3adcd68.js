(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7412:function(t,n,r){"use strict";var e=r(4836);n.Z=void 0;var i=e(r(4938)),o=r(5893),a=(0,i.default)((0,o.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");n.Z=a},1812:function(t,n,r){"use strict";r.d(n,{Z:function(){return I}});var e=r(3366),i=r(7462),o=r(7294),a=r(6622),s=r(9669),c=r(4780),l=r(1719),d=r(8884),u=r(4225),g=r(754),h=r(4867),f=r(1588);function p(t){return(0,h.Z)("MuiLoadingButton",t)}let v=(0,f.Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var x=r(5893);let m=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],b=t=>{let{loading:n,loadingPosition:r,classes:e}=t,o={root:["root",n&&"loading"],startIcon:[n&&`startIconLoading${(0,a.Z)(r)}`],endIcon:[n&&`endIconLoading${(0,a.Z)(r)}`],loadingIndicator:["loadingIndicator",n&&`loadingIndicator${(0,a.Z)(r)}`]},s=(0,c.Z)(o,p,e);return(0,i.Z)({},e,s)},w=t=>"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t&&"classes"!==t,Z=(0,l.ZP)(u.Z,{shouldForwardProp:t=>w(t)||"classes"===t,name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,n)=>[n.root,n.startIconLoadingStart&&{[`& .${v.startIconLoadingStart}`]:n.startIconLoadingStart},n.endIconLoadingEnd&&{[`& .${v.endIconLoadingEnd}`]:n.endIconLoadingEnd}]})(({ownerState:t,theme:n})=>(0,i.Z)({[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},"center"===t.loadingPosition&&{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${v.loading}`]:{color:"transparent"}},"start"===t.loadingPosition&&t.fullWidth&&{[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===t.loadingPosition&&t.fullWidth&&{[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}})),L=(0,l.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver(t,n){let{ownerState:r}=t;return[n.loadingIndicator,n[`loadingIndicator${(0,a.Z)(r.loadingPosition)}`]]}})(({theme:t,ownerState:n})=>(0,i.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{left:"small"===n.size?10:14},"start"===n.loadingPosition&&"text"===n.variant&&{left:6},"center"===n.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},"end"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{right:"small"===n.size?10:14},"end"===n.loadingPosition&&"text"===n.variant&&{right:6},"start"===n.loadingPosition&&n.fullWidth&&{position:"relative",left:-10},"end"===n.loadingPosition&&n.fullWidth&&{position:"relative",right:-10})),y=o.forwardRef(function(t,n){let r=(0,d.Z)({props:t,name:"MuiLoadingButton"}),{children:o,disabled:a=!1,id:c,loading:l=!1,loadingIndicator:u,loadingPosition:h="center",variant:f="text"}=r,p=(0,e.Z)(r,m),v=(0,s.Z)(c),w=null!=u?u:(0,x.jsx)(g.Z,{"aria-labelledby":v,color:"inherit",size:16}),y=(0,i.Z)({},r,{disabled:a,loading:l,loadingIndicator:w,loadingPosition:h,variant:f}),I=b(y),j=l?(0,x.jsx)(L,{className:I.loadingIndicator,ownerState:y,children:w}):null;return(0,x.jsxs)(Z,(0,i.Z)({disabled:a||l,id:v,ref:n},p,{variant:f,classes:I,ownerState:y,children:["end"===y.loadingPosition?o:j,"end"===y.loadingPosition?j:o]}))});var I=y},6429:function(t,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(6596)}])},7424:function(t,n,r){"use strict";r.d(n,{Z:function(){return a}});var e=r(5893);r(7294);var i=r(9630),o=r(1953);function a(t){var n=t.text;return(0,e.jsx)(i.Z,{component:"span",children:(0,e.jsx)(o.Z,{sx:{color:"error.main",fontSize:"12px",paddingTop:"1px"},children:n})})}},6596:function(t,n,r){"use strict";r.r(n),r.d(n,{default:function(){return M}});var e=r(7568),i=r(6042),o=r(603),a=r(655),s=r(5893),c=r(7294),l=r(9008),d=r.n(l),u=r(1953),g=r(9837),h=r(9742),f=r(1359),p=r(5343),v=r(8316),x=r(6480),m=r(1812),b=r(7536),w=r(7412),Z=r(7424),L=r(1163),y=r(4334);function I(){return(I=(0,e.Z)(function(t,n){var r,e,i,o,s;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return r=n.arg,e={"Content-type":"application/json"},[4,fetch(t,{method:"POST",body:JSON.stringify(r),headers:e})];case 1:if(!(i=a.sent()).ok)return[3,2];return[2,i];case 2:if(401!==i.status)return[3,3];throw(o=Error("Not authorized")).status=401,o;case 3:return(s=Error("")).status=i.status,[4,i.json()];case 4:throw s.message=a.sent().message,s;case 5:return[2]}})})).apply(this,arguments)}var j=function(t,n){return I.apply(this,arguments)},S=r(4461),P="".concat("Flash"," : Home"),k=function(t){var n=t.children;return(0,s.jsx)(u.Z,{sx:{width:"100%",flexGrow:1,backgroundImage:"".concat("url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.com/svgjs' width='1440' height='560' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1224%26quot%3b)' fill='none'%3e%3crect width='1440' height='560' x='0' y='0' fill='url(%23SvgjsLinearGradient1225)'%3e%3c/rect%3e%3cpath d='M1440 0L1009.5699999999999 0L1440 177.1z' fill='rgba(255%2c 255%2c 255%2c .1)'%3e%3c/path%3e%3cpath d='M1009.5699999999999 0L1440 177.1L1440 182.17L879.3899999999999 0z' fill='rgba(255%2c 255%2c 255%2c .075)'%3e%3c/path%3e%3cpath d='M879.39 0L1440 182.17L1440 359.26L514.55 0z' fill='rgba(255%2c 255%2c 255%2c .05)'%3e%3c/path%3e%3cpath d='M514.55 0L1440 359.26L1440 384.76L488.60999999999996 0z' fill='rgba(255%2c 255%2c 255%2c .025)'%3e%3c/path%3e%3cpath d='M0 560L565.33 560L0 468.40999999999997z' fill='rgba(0%2c 0%2c 0%2c .1)'%3e%3c/path%3e%3cpath d='M0 468.40999999999997L565.33 560L984.8800000000001 560L0 450.43999999999994z' fill='rgba(0%2c 0%2c 0%2c .075)'%3e%3c/path%3e%3cpath d='M0 450.44L984.8800000000001 560L1026.2700000000002 560L0 294.27z' fill='rgba(0%2c 0%2c 0%2c .05)'%3e%3c/path%3e%3cpath d='M0 294.27L1026.2700000000002 560L1216.6000000000001 560L0 187.01z' fill='rgba(0%2c 0%2c 0%2c .025)'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1224'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3clinearGradient x1='15.28%25' y1='-39.29%25' x2='84.72%25' y2='139.29%25' gradientUnits='userSpaceOnUse' id='SvgjsLinearGradient1225'%3e%3cstop stop-color='%230e2a47' offset='0'%3e%3c/stop%3e%3cstop stop-color='rgba(158%2c 0%2c 107%2c 1)' offset='1'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"top center",display:"flex",justifyContent:"center",alignItems:"center"},children:n})};function M(){var t,n,r,l=(0,o.Z)(c.useState(!1),2),I=l[0],M=l[1],E=(0,b.cI)(),z=E.register,_=E.handleSubmit,$=E.formState.errors,C=(0,o.Z)(c.useState(!0),2),R=C[0],O=C[1],q=(0,L.useRouter)(),N=(0,y.Z)("/api/login/",j).trigger;if(c.useEffect(function(){if(localStorage.getItem("galaxy-token")){q.push("/dashboard");return}O(!1)},[]),R)return(0,s.jsx)(S.Z,{});var B,F=(B=(0,e.Z)(function(t){var n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:M(!0),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,N(t)];case 2:return[4,(n=r.sent()).json()];case 3:return n=r.sent(),localStorage.setItem("galaxy-token",n.token),localStorage.setItem("galaxy-company",n.company),M(!1),[4,q.push("/dashboard")];case 4:return r.sent(),[3,6];case 5:return r.sent(),console.error("error logging in"),M(!1),[3,6];case 6:return[2]}})}),function(t){return B.apply(this,arguments)});return(0,s.jsxs)(k,{children:[(0,s.jsxs)(d(),{children:[(0,s.jsx)("title",{children:P}),(0,s.jsx)("meta",{name:"description",content:"Office home"})]}),(0,s.jsxs)(g.Z,{sx:{width:{xs:"95%",sm:440}},children:[(0,s.jsx)(h.Z,{title:"Login",sx:{textAlign:"center"}}),(0,s.jsx)(f.Z,{sx:{width:"100%"},children:(0,s.jsxs)(u.Z,{component:"form",sx:{mb:"0","& .MuiFormControl-root":{margin:"10px 0",width:"100%"}},onSubmit:_(F),noValidate:!0,children:[(0,s.jsxs)(p.Z,{variant:"standard",children:[(0,s.jsx)(v.Z,{htmlFor:"email",children:"Email"}),(0,s.jsx)(x.Z,(0,i.Z)({id:"email"},z("email",{required:!0,pattern:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}))),(null===(t=$.email)||void 0===t?void 0:t.type)==="required"&&(0,s.jsx)(Z.Z,{text:"Email is Required"}),(null===(n=$.email)||void 0===n?void 0:n.type)==="pattern"&&(0,s.jsx)(Z.Z,{text:"Invalid Email Format"})]}),(0,s.jsxs)(p.Z,{variant:"standard",children:[(0,s.jsx)(v.Z,{htmlFor:"password",children:"Password"}),(0,s.jsx)(x.Z,(0,i.Z)({id:"password",type:"password"},z("password",{required:!0}))),(null===(r=$.password)||void 0===r?void 0:r.type)==="required"&&(0,s.jsx)(Z.Z,{text:"Password is Required"})]}),(0,s.jsx)(u.Z,{sx:{textAlign:"right",my:2},children:(0,s.jsx)(m.Z,{loading:I,size:"small",variant:"contained",endIcon:(0,s.jsx)(w.Z,{}),loadingPosition:"end",type:"submit",children:"Login"})})]})})]})]})}},9008:function(t,n,r){t.exports=r(5443)},4334:function(t,n,r){"use strict";r.d(n,{Z:function(){return l}});var e=r(7294),i=r(5591),o=r(1753);function a(t,n,r,e,i,o,a){try{var s=t[o](a),c=s.value}catch(l){r(l);return}s.done?n(c):Promise.resolve(c).then(e,i)}var s=function(t,n){var r,e,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,e&&(i=2&o[0]?e.return:o[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,o[1])).done)return i;switch(e=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,e=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(s){o=[6,s],e=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(){return function(t,n,r){void 0===r&&(r={});var c,l=(0,i.kY)().mutate,d=(0,e.useRef)(t),u=(0,e.useRef)(0),g=(0,o.Iy)({data:o.i_,error:o.i_,isMutating:!1}),h=g[0],f=g[1],p=g[2],v=h.current,x=(0,e.useCallback)((c=function(t,e){var i,a,c,g,h,f,v,x,m,b,w,Z,L;return s(this,function(s){switch(s.label){case 0:if(a=(i=(0,o.qC)(d.current))[0],c=i[1],!n)throw Error("Can’t trigger the mutation: missing fetcher.");if(!a)throw Error("Can’t trigger the mutation: missing key.");h={},g=(0,o.PM)((0,o.PM)((h.populateCache=!1,h.throwOnError=!0,h),r),e),f=(0,o.u3)(),u.current=f,p(((v={}).isMutating=!0,v)),s.label=1;case 1:return s.trys.push([1,3,,4]),b={},[4,l(a,n(c,((m={}).arg=t,m)),(0,o.PM)(g,(b.throwOnError=!0,b)))];case 2:return x=s.sent(),w={},u.current<=f&&(p((w.data=x,w.isMutating=!1,w.error=void 0,w)),null==g.onSuccess||g.onSuccess(x,a,g)),[2,x];case 3:if(Z=s.sent(),L={},u.current<=f&&(p((L.error=Z,L.isMutating=!1,L)),null==g.onError||g.onError(Z,a,g),g.throwOnError))throw Z;return[3,4];case 4:return[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,e){var i=c.apply(t,n);function o(t){a(i,r,e,o,s,"next",t)}function s(t){a(i,r,e,o,s,"throw",t)}o(void 0)})}),[]),m=(0,e.useCallback)(function(){u.current=(0,o.u3)(),p({data:o.i_,error:o.i_,isMutating:!1})},[]);return(0,o.LI)(function(){d.current=t}),{trigger:x,reset:m,get data(){return f.data=!0,v.data},get error(){return f.error=!0,v.error},get isMutating(){return f.isMutating=!0,v.isMutating}}}},l=(0,o.xD)(i.ZP,c)}},function(t){t.O(0,[289,774,888,179],function(){return t(t.s=6429)}),_N_E=t.O()}]);