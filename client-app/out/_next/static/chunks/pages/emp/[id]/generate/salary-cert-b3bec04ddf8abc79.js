(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{1775:function(e,n,t){"use strict";var r=t(4836);n.Z=void 0;var i=r(t(4938)),o=t(5893),a=(0,i.default)((0,o.jsx)("path",{d:"m4.01 6.03 7.51 3.22-7.52-1 .01-2.22m7.5 8.72L4 17.97v-2.22l7.51-1M2.01 3 2 10l15 2-15 2 .01 7L23 12 2.01 3z"}),"SendOutlined");n.Z=a},1812:function(e,n,t){"use strict";t.d(n,{Z:function(){return L}});var r=t(3366),i=t(7462),o=t(7294),a=t(6622),s=t(9669),d=t(4780),l=t(1719),c=t(8884),u=t(4225),f=t(754),v=t(4867),x=t(1588);function h(e){return(0,v.Z)("MuiLoadingButton",e)}let g=(0,x.Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var p=t(5893);let m=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Z=e=>{let{loading:n,loadingPosition:t,classes:r}=e,o={root:["root",n&&"loading"],startIcon:[n&&`startIconLoading${(0,a.Z)(t)}`],endIcon:[n&&`endIconLoading${(0,a.Z)(t)}`],loadingIndicator:["loadingIndicator",n&&`loadingIndicator${(0,a.Z)(t)}`]},s=(0,d.Z)(o,h,r);return(0,i.Z)({},r,s)},j=e=>"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e,y=(0,l.ZP)(u.Z,{shouldForwardProp:e=>j(e)||"classes"===e,name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,n)=>[n.root,n.startIconLoadingStart&&{[`& .${g.startIconLoadingStart}`]:n.startIconLoadingStart},n.endIconLoadingEnd&&{[`& .${g.endIconLoadingEnd}`]:n.endIconLoadingEnd}]})(({ownerState:e,theme:n})=>(0,i.Z)({[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},"center"===e.loadingPosition&&{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${g.loading}`]:{color:"transparent"}},"start"===e.loadingPosition&&e.fullWidth&&{[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===e.loadingPosition&&e.fullWidth&&{[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}})),b=(0,l.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver(e,n){let{ownerState:t}=e;return[n.loadingIndicator,n[`loadingIndicator${(0,a.Z)(t.loadingPosition)}`]]}})(({theme:e,ownerState:n})=>(0,i.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{left:"small"===n.size?10:14},"start"===n.loadingPosition&&"text"===n.variant&&{left:6},"center"===n.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},"end"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{right:"small"===n.size?10:14},"end"===n.loadingPosition&&"text"===n.variant&&{right:6},"start"===n.loadingPosition&&n.fullWidth&&{position:"relative",left:-10},"end"===n.loadingPosition&&n.fullWidth&&{position:"relative",right:-10})),w=o.forwardRef(function(e,n){let t=(0,c.Z)({props:e,name:"MuiLoadingButton"}),{children:o,disabled:a=!1,id:d,loading:l=!1,loadingIndicator:u,loadingPosition:v="center",variant:x="text"}=t,h=(0,r.Z)(t,m),g=(0,s.Z)(d),j=null!=u?u:(0,p.jsx)(f.Z,{"aria-labelledby":g,color:"inherit",size:16}),w=(0,i.Z)({},t,{disabled:a,loading:l,loadingIndicator:j,loadingPosition:v,variant:x}),L=Z(w),S=l?(0,p.jsx)(b,{className:L.loadingIndicator,ownerState:w,children:j}):null;return(0,p.jsxs)(y,(0,i.Z)({disabled:a||l,id:g,ref:n},h,{variant:x,classes:L,ownerState:w,children:["end"===w.loadingPosition?o:S,"end"===w.loadingPosition?S:o]}))});var L=w},3162:function(e,n,t){var r,i,o,a;a=function(){"use strict";function n(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,n,t)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch(t){}return 200<=n.status&&299>=n.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t.g&&t.g.global===t.g?t.g:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,a){var s=o.URL||o.webkitURL,d=document.createElement("a");t=t||e.name||"download",d.download=t,d.rel="noopener","string"==typeof e?(d.href=e,d.origin===location.origin?i(d):r(d.href)?n(e,t,a):i(d,d.target="_blank")):(d.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,o){if(t=t||e.name||"download","string"!=typeof e){var a,s;navigator.msSaveOrOpenBlob((void 0===(s=o)?s={autoBom:!1}:"object"!=typeof s&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),t)}else if(r(e))n(e,t,o);else{var d=document.createElement("a");d.href=e,d.target="_blank",setTimeout(function(){i(d)})}}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var s="application/octet-stream"===e.type,d=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&d||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,f=u.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});o.saveAs=s.saveAs=s,e.exports=s},void 0!==(o=a.apply(n,[]))&&(e.exports=o)},4278:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/emp/[id]/generate/salary-cert",function(){return t(6161)}])},6167:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(6042),i=t(828),o=t(5893),a=t(7294),s=t(9243),d=t(2741),l=a.forwardRef(function(e,n){return(0,o.jsx)(d.Z,(0,r.Z)({elevation:6,ref:n,variant:"filled"},e))});function c(e){var n=e.severity,t=e.msg,r=e.isOpen,d=e.parentStateFunc,c=void 0===d?null:d,u=(0,i.Z)(a.useState(r),2),f=u[0],v=u[1];a.useEffect(function(){v(r)},[r]);var x=function(e,n){"clickaway"!==n&&(v(!1),c&&c(!1))};return(0,o.jsx)(s.Z,{open:f,onClose:x,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,o.jsx)(l,{onClose:x,severity:n,sx:{width:"100%"},children:t})})}},3850:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893);t(7294);var i=t(9837),o=t(9742),a=t(1359);function s(e){var n=e.title,t=e.children;return(0,r.jsxs)(i.Z,{sx:{width:"100%",pt:3},elevation:0,children:[(0,r.jsx)(o.Z,{title:n,sx:{color:"secondary.light"}}),(0,r.jsx)(a.Z,{sx:{width:"100%"},children:t})]})}t(2350),t(2697),t(3495),t(6186),t(7986),t(6167)},1397:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(5893);t(7294);var i=t(4288),o=t(9008),a=t.n(o),s=t(9072);function d(e){var n=e.pageTitle,t=e.children,o=e.sideComponent;return(0,r.jsxs)(i.Z,{maxWidth:"xxl",children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:n}),(0,r.jsx)("meta",{name:"description",content:"Office home"})]}),(0,r.jsxs)(s.ZP,{container:!0,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:9,children:t}),(0,r.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:3,children:void 0===o?null:o})]})]})}},8962:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(5893);t(7294);var i=t(4288),o=t(9008),a=t.n(o),s=t(9072);function d(e){var n=e.pageTitle,t=e.component1,o=e.component2;return(0,r.jsxs)(i.Z,{maxWidth:"xxl",children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:n}),(0,r.jsx)("meta",{name:"description",content:"Office home"})]}),(0,r.jsxs)(s.ZP,{container:!0,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,md:8,lg:9,children:t}),(0,r.jsx)(s.ZP,{item:!0,xs:12,md:4,lg:3,children:void 0===o?null:o})]})]})}},3495:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(6042),i=t(5893);t(7294);var o=t(5343),a=t(7836),s=t(7536),d=t(2359),l=t(3436),c=t(1092),u=t(7424);function f(e){var n,t=e.id,f=e.label,v=e.control,x=e.minDate,h=e.maxDate,g=e.errors,p=e.isRequired,m=e.defaultValue;return(0,i.jsxs)(o.Z,{variant:"standard",children:[(0,i.jsx)(s.Qr,{control:v,name:t,rules:{required:p},defaultValue:void 0===m?"":m,render:function(e){var n=e.field,t=n.onChange,o=n.value;return(0,i.jsx)(d._,{dateAdapter:c.Z,children:(0,i.jsx)(l.$,{label:f,inputFormat:"dd/MM/yyyy",value:o,onChange:t,minDate:x,maxDate:h,renderInput:function(e){return(0,i.jsx)(a.Z,(0,r.Z)({sx:{marginTop:"7px !important",marginBottom:"0px !important"},variant:"standard"},e))}})})}}),(null===(n=g[t])||void 0===n?void 0:n.type)==="required"&&(0,i.jsx)(u.Z,{text:"".concat(f," is Required")})]})}},7986:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893);t(7294);var i=t(5343),o=t(8316),a=t(6480),s=t(7424),d=t(7536);function l(e){var n,t,l=e.id,c=e.label,u=e.isRequired,f=e.maxLength,v=e.control,x=e.errors,h=e.defaultValue;return(0,r.jsxs)(i.Z,{variant:"standard",children:[(0,r.jsx)(o.Z,{htmlFor:l,required:u,children:c}),(0,r.jsx)(d.Qr,{name:l,control:v,rules:{required:u,maxLength:f},defaultValue:void 0===h?"":h,render:function(e){var n=e.field,t=n.onBlur,i=n.onChange,o=n.value;return(0,r.jsx)(a.Z,{id:l,value:o,onBlur:t,onChange:i})}}),(null===(n=x[l])||void 0===n?void 0:n.type)==="required"&&(0,r.jsx)(s.Z,{text:"".concat(c," is Required")}),(null===(t=x[l])||void 0===t?void 0:t.type)==="maxLength"&&(0,r.jsx)(s.Z,{text:"Cannot be more than ".concat(f," chars")})]})}},2350:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(5893);t(7294);var i=t(5343),o=t(8316),a=t(6480),s=t(2631),d=t(7424),l=t(7536);function c(e){var n,t,c=e.id,u=e.label,f=e.isRequired,v=e.maxLength,x=e.control,h=e.errors,g=e.defaultValue,p=e.disable,m=void 0!==p&&p,Z=e.placeholder,j=void 0===Z?"":Z,y=e.helperText,b=void 0===y?"":y;return(0,r.jsxs)(i.Z,{variant:"standard",children:[(0,r.jsx)(o.Z,{htmlFor:c,required:f,children:u}),(0,r.jsx)(l.Qr,{name:c,control:x,rules:{required:f,maxLength:v},defaultValue:void 0===g?"":g,render:function(e){var n=e.field,t=n.onBlur,i=n.onChange,o=n.value;return(0,r.jsx)(a.Z,{id:c,value:o,onBlur:t,onChange:i,disabled:m,placeholder:j})}}),b&&(0,r.jsx)(s.Z,{id:"filled-weight-helper-text",children:b}),h&&(null===(n=h[c])||void 0===n?void 0:n.type)==="required"&&(0,r.jsx)(d.Z,{text:"".concat(u," is Required")}),h&&(null===(t=h[c])||void 0===t?void 0:t.type)==="maxLength"&&(0,r.jsx)(d.Z,{text:"Cannot be more than ".concat(v," chars")})]})}},6186:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(5893);t(7294);var i=t(5343),o=t(8316),a=t(6480),s=t(9041),d=t(7424),l=t(7536);function c(e){var n,t,c,u=e.id,f=e.label,v=e.isRequired,x=e.maxLength,h=e.control,g=e.errors,p=e.defaultValue,m=e.adornVal,Z=void 0===m?"":m;return(0,r.jsxs)(i.Z,{variant:"standard",children:[(0,r.jsx)(o.Z,{htmlFor:u,required:v,children:f}),(0,r.jsx)(l.Qr,{name:u,control:h,rules:{required:v,maxLength:x,validate:{isDigits:function(e){return!e||/^\d+$/.test(e)}}},defaultValue:void 0===p?"":p,render:function(e){var n=e.field,t=n.onBlur,i=n.onChange,o=n.value;return(0,r.jsx)(a.Z,{id:u,value:o,onBlur:t,onChange:i,startAdornment:(0,r.jsx)(s.Z,{position:"start",children:Z})})}}),(null===(n=g[u])||void 0===n?void 0:n.type)==="required"&&(0,r.jsx)(d.Z,{text:"".concat(f," is Required")}),(null===(t=g[u])||void 0===t?void 0:t.type)==="maxLength"&&(0,r.jsx)(d.Z,{text:"Cannot be more than ".concat(x," chars")}),(null===(c=g[u])||void 0===c?void 0:c.type)==="isDigits"&&(0,r.jsx)(d.Z,{text:"Only digits allowed"})]})}},2697:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(5893);t(7294);var i=t(5343),o=t(8316),a=t(6541),s=t(7424),d=t(7536),l=t(1538);function c(e){var n,t=e.id,c=e.label,u=e.isRequired,f=e.values,v=e.control,x=e.errors,h=e.valKey,g=void 0===h?"key":h,p=e.valLabel,m=void 0===p?"label":p,Z=e.isReadOnly,j=void 0!==Z&&Z,y=e.defaultValue,b=e.additionalOnChange,w=void 0===b?null:b;return(0,r.jsxs)(i.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,r.jsx)(o.Z,{id:t,required:u,children:c}),(0,r.jsx)(d.Qr,{name:t,control:v,rules:{required:u},defaultValue:void 0===y?"":y,render:function(e){var n=e.field,i=n.onChange,o=(n.onBlur,n.value);return(0,r.jsx)(a.Z,{id:t,value:o,onChange:function(e){w?(i(e),w(e.target.value)):i(e)},disabled:j,children:f.map(function(e){return(0,r.jsx)(l.Z,{value:e[g],children:e[m]},e[g])})})}}),(null===(n=x[t])||void 0===n?void 0:n.type)==="required"&&(0,r.jsx)(s.Z,{text:"".concat(c," is Required")})]})}},7424:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5893);t(7294);var i=t(9630),o=t(1953);function a(e){var n=e.text;return(0,r.jsx)(i.Z,{component:"span",children:(0,r.jsx)(o.Z,{sx:{color:"error.main",fontSize:"12px",paddingTop:"1px"},children:n})})}},6161:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(7568),i=t(828),o=t(655),a=t(5893),s=t(7294);t(8962);var d=t(3850),l=t(1953),c=t(9072),u=t(2350),f=t(7536),v=t(1812),x=t(1775),h=t(6186),g=t(1163),p=t(6167),m=t(1397),Z=t(3162),j="".concat("AiFi Office"," : Generate Salary Certificate"),y=function(){var e,n=(0,g.useRouter)(),t=n.query.id,m=(0,i.Z)(s.useState(!1),2),j=m[0],y=m[1],b=(0,f.cI)({mode:"onTouched"}),w=b.control,L=b.handleSubmit,S=(b.reset,b.formState.errors),I=(0,i.Z)(s.useState(!1),2),R=(I[0],I[1]),P=(0,i.Z)(s.useState(!1),2),C=P[0],q=P[1],E=(0,i.Z)(s.useState(!1),2),O=E[0],T=E[1],A=(0,i.Z)(s.useState(!1),2),B=A[0],_=A[1],k=(e=(0,r.Z)(function(e){var r,i,a,s,d,l;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return y(!0),r="/api/user/generate/".concat(t),console.log(e),e.formType="SC",i={Authorization:"Bearer ".concat(localStorage.getItem("galaxy-token")),"Content-type":"application/json"},[4,fetch(r,{method:"POST",body:JSON.stringify(e),headers:i})];case 1:if(!(a=o.sent()).ok)return[3,3];return l=(d=a.headers.get("Content-Disposition").split("filename=").pop()).split("_")[2],[4,a.blob()];case 2:return a=o.sent(),Z.saveAs(a,d),_(!0),R(function(e){return!e}),setTimeout(function(){n.replace("/emp/docs/".concat(l))},500),[3,5];case 3:return[4,a.json()];case 4:a=o.sent(),q(!0),T(a.message),o.label=5;case 5:return y(!1),[2]}})}),function(n){return e.apply(this,arguments)});return(0,a.jsxs)(d.Z,{title:"Salary Certificate",children:[(0,a.jsxs)(l.Z,{component:"form",sx:{mb:"0","& .MuiFormControl-root":{margin:"10px 0",width:"100%"}},onSubmit:L(k),noValidate:!0,autoComplete:"off",children:[(0,a.jsxs)(c.ZP,{container:!0,columnSpacing:4,children:[(0,a.jsx)(c.ZP,{item:!0,xs:12,md:9,children:(0,a.jsx)(u.Z,{id:"docNo",label:"Document Number",isRequired:!0,maxLength:50,control:w,errors:S,placeholder:"HRD/SC/2022/xxx/AIFIxxx",defaultValue:"HRD/SC/2022/",helperText:"e.g. HRD/SC/2022/xxx/AIFIxxx"})}),(0,a.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,a.jsx)(u.Z,{id:"passportCountry",label:"Passport Country",isRequired:!0,maxLength:20,control:w,errors:S,helperText:"e.g. Indonesian, American, English"})}),(0,a.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,a.jsx)(u.Z,{id:"passportNo",label:"Passport Number",isRequired:!0,maxLength:20,control:w,errors:S,defaultValue:""})}),(0,a.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,a.jsx)(h.Z,{id:"salary",label:"Salary",isRequired:!0,adornVal:"Dhs.",maxLength:20,control:w,errors:S})})]}),(0,a.jsx)(l.Z,{sx:{textAlign:"right",my:2},children:(0,a.jsx)(v.Z,{loading:j,size:"small",variant:"contained",endIcon:(0,a.jsx)(x.Z,{}),loadingPosition:"end",type:"submit",children:"Generate"})})]}),C&&(0,a.jsx)(p.Z,{msg:O,severity:"error",isOpen:C,parentStateFunc:q}),B&&(0,a.jsx)(p.Z,{msg:"Salary Certificate generated successfully",severity:"success",isOpen:B,parentStateFunc:_})]})};function b(){return(0,a.jsx)(m.Z,{pageTitle:j,children:(0,a.jsx)(y,{})})}b.authRequired=!0},7568:function(e,n,t){"use strict";function r(e,n,t,r,i,o,a){try{var s=e[o](a),d=s.value}catch(l){t(l);return}s.done?n(d):Promise.resolve(d).then(r,i)}function i(e){return function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function s(e){r(a,i,o,s,d,"next",e)}function d(e){r(a,i,o,s,d,"throw",e)}s(void 0)})}}t.d(n,{Z:function(){return i}})}},function(e){e.O(0,[483,372,164,774,888,179],function(){return e(e.s=4278)}),_N_E=e.O()}]);