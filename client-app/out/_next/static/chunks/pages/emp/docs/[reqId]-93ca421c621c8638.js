(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[802],{4204:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/emp/docs/[reqId]",function(){return r(7946)}])},6167:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(6042),i=r(828),a=r(5893),o=r(7294),s=r(9243),l=r(2741),c=o.forwardRef(function(e,n){return(0,a.jsx)(l.Z,(0,t.Z)({elevation:6,ref:n,variant:"filled"},e))});function d(e){var n=e.severity,r=e.msg,t=e.isOpen,l=e.parentStateFunc,d=void 0===l?null:l,u=(0,i.Z)(o.useState(t),2),x=u[0],h=u[1];o.useEffect(function(){h(t)},[t]);var v=function(e,n){"clickaway"!==n&&(h(!1),d&&d(!1))};return(0,a.jsx)(s.Z,{open:x,onClose:v,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,a.jsx)(c,{onClose:v,severity:n,sx:{width:"100%"},children:r})})}},4461:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(5893);r(7294);var i=r(1953),a=r(754);function o(){return(0,t.jsx)(i.Z,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)(a.Z,{})})}},3850:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var t=r(5893);r(7294);var i=r(9837),a=r(9742),o=r(1359);function s(e){var n=e.title,r=e.children;return(0,t.jsxs)(i.Z,{sx:{width:"100%",pt:3},elevation:0,children:[(0,t.jsx)(a.Z,{title:n,sx:{color:"secondary.light"}}),(0,t.jsx)(o.Z,{sx:{width:"100%"},children:r})]})}r(2350),r(2697),r(3495),r(6186),r(7986),r(6167)},1397:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(5893);r(7294);var i=r(4288),a=r(9008),o=r.n(a),s=r(9072);function l(e){var n=e.pageTitle,r=e.children,a=e.sideComponent;return(0,t.jsxs)(i.Z,{maxWidth:"xxl",children:[(0,t.jsxs)(o(),{children:[(0,t.jsx)("title",{children:n}),(0,t.jsx)("meta",{name:"description",content:"Office home"})]}),(0,t.jsxs)(s.ZP,{container:!0,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:9,children:r}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:3,children:void 0===a?null:a})]})]})}},3495:function(e,n,r){"use strict";r.d(n,{Z:function(){return x}});var t=r(6042),i=r(5893);r(7294);var a=r(5343),o=r(7836),s=r(7536),l=r(2359),c=r(3436),d=r(1092),u=r(7424);function x(e){var n,r=e.id,x=e.label,h=e.control,v=e.minDate,j=e.maxDate,Z=e.errors,f=e.isRequired,m=e.defaultValue;return(0,i.jsxs)(a.Z,{variant:"standard",children:[(0,i.jsx)(s.Qr,{control:h,name:r,rules:{required:f},defaultValue:void 0===m?"":m,render:function(e){var n=e.field,r=n.onChange,a=n.value;return(0,i.jsx)(l._,{dateAdapter:d.Z,children:(0,i.jsx)(c.$,{label:x,inputFormat:"dd/MM/yyyy",value:a,onChange:r,minDate:v,maxDate:j,renderInput:function(e){return(0,i.jsx)(o.Z,(0,t.Z)({sx:{marginTop:"7px !important",marginBottom:"0px !important"},variant:"standard"},e))}})})}}),(null===(n=Z[r])||void 0===n?void 0:n.type)==="required"&&(0,i.jsx)(u.Z,{text:"".concat(x," is Required")})]})}},7986:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(5893);r(7294);var i=r(5343),a=r(8316),o=r(6480),s=r(7424),l=r(7536);function c(e){var n,r,c=e.id,d=e.label,u=e.isRequired,x=e.maxLength,h=e.control,v=e.errors,j=e.defaultValue;return(0,t.jsxs)(i.Z,{variant:"standard",children:[(0,t.jsx)(a.Z,{htmlFor:c,required:u,children:d}),(0,t.jsx)(l.Qr,{name:c,control:h,rules:{required:u,maxLength:x},defaultValue:void 0===j?"":j,render:function(e){var n=e.field,r=n.onBlur,i=n.onChange,a=n.value;return(0,t.jsx)(o.Z,{id:c,value:a,onBlur:r,onChange:i})}}),(null===(n=v[c])||void 0===n?void 0:n.type)==="required"&&(0,t.jsx)(s.Z,{text:"".concat(d," is Required")}),(null===(r=v[c])||void 0===r?void 0:r.type)==="maxLength"&&(0,t.jsx)(s.Z,{text:"Cannot be more than ".concat(x," chars")})]})}},2350:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(5893);r(7294);var i=r(5343),a=r(8316),o=r(6480),s=r(2631),l=r(7424),c=r(7536);function d(e){var n,r,d=e.id,u=e.label,x=e.isRequired,h=e.maxLength,v=e.control,j=e.errors,Z=e.defaultValue,f=e.disable,m=void 0!==f&&f,p=e.placeholder,g=void 0===p?"":p,y=e.helperText,b=void 0===y?"":y;return(0,t.jsxs)(i.Z,{variant:"standard",children:[(0,t.jsx)(a.Z,{htmlFor:d,required:x,children:u}),(0,t.jsx)(c.Qr,{name:d,control:v,rules:{required:x,maxLength:h},defaultValue:void 0===Z?"":Z,render:function(e){var n=e.field,r=n.onBlur,i=n.onChange,a=n.value;return(0,t.jsx)(o.Z,{id:d,value:a,onBlur:r,onChange:i,disabled:m,placeholder:g})}}),b&&(0,t.jsx)(s.Z,{id:"filled-weight-helper-text",children:b}),j&&(null===(n=j[d])||void 0===n?void 0:n.type)==="required"&&(0,t.jsx)(l.Z,{text:"".concat(u," is Required")}),j&&(null===(r=j[d])||void 0===r?void 0:r.type)==="maxLength"&&(0,t.jsx)(l.Z,{text:"Cannot be more than ".concat(h," chars")})]})}},6186:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(5893);r(7294);var i=r(5343),a=r(8316),o=r(6480),s=r(9041),l=r(7424),c=r(7536);function d(e){var n,r,d,u=e.id,x=e.label,h=e.isRequired,v=e.maxLength,j=e.control,Z=e.errors,f=e.defaultValue,m=e.adornVal,p=void 0===m?"":m;return(0,t.jsxs)(i.Z,{variant:"standard",children:[(0,t.jsx)(a.Z,{htmlFor:u,required:h,children:x}),(0,t.jsx)(c.Qr,{name:u,control:j,rules:{required:h,maxLength:v,validate:{isDigits:function(e){return!e||/^\d+$/.test(e)}}},defaultValue:void 0===f?"":f,render:function(e){var n=e.field,r=n.onBlur,i=n.onChange,a=n.value;return(0,t.jsx)(o.Z,{id:u,value:a,onBlur:r,onChange:i,startAdornment:(0,t.jsx)(s.Z,{position:"start",children:p})})}}),(null===(n=Z[u])||void 0===n?void 0:n.type)==="required"&&(0,t.jsx)(l.Z,{text:"".concat(x," is Required")}),(null===(r=Z[u])||void 0===r?void 0:r.type)==="maxLength"&&(0,t.jsx)(l.Z,{text:"Cannot be more than ".concat(v," chars")}),(null===(d=Z[u])||void 0===d?void 0:d.type)==="isDigits"&&(0,t.jsx)(l.Z,{text:"Only digits allowed"})]})}},2697:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(5893);r(7294);var i=r(5343),a=r(8316),o=r(6541),s=r(7424),l=r(7536),c=r(1538);function d(e){var n,r=e.id,d=e.label,u=e.isRequired,x=e.values,h=e.control,v=e.errors,j=e.valKey,Z=void 0===j?"key":j,f=e.valLabel,m=void 0===f?"label":f,p=e.isReadOnly,g=void 0!==p&&p,y=e.defaultValue,b=e.additionalOnChange,C=void 0===b?null:b;return(0,t.jsxs)(i.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,t.jsx)(a.Z,{id:r,required:u,children:d}),(0,t.jsx)(l.Qr,{name:r,control:h,rules:{required:u},defaultValue:void 0===y?"":y,render:function(e){var n=e.field,i=n.onChange,a=(n.onBlur,n.value);return(0,t.jsx)(o.Z,{id:r,value:a,onChange:function(e){C?(i(e),C(e.target.value)):i(e)},disabled:g,children:x.map(function(e){return(0,t.jsx)(c.Z,{value:e[Z],children:e[m]},e[Z])})})}}),(null===(n=v[r])||void 0===n?void 0:n.type)==="required"&&(0,t.jsx)(s.Z,{text:"".concat(d," is Required")})]})}},7424:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(5893);r(7294);var i=r(9630),a=r(1953);function o(e){var n=e.text;return(0,t.jsx)(i.Z,{component:"span",children:(0,t.jsx)(a.Z,{sx:{color:"error.main",fontSize:"12px",paddingTop:"1px"},children:n})})}},7946:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return V}});var t=r(5893),i=r(7294),a=r(1163),o=r(7568),s=r(828),l=r(655),c=r(1953),d=r(9072),u=r(9630),x=r(4373),h=r(2135),v=r(4225),j=r(3850),Z=r(918),f=r(5056),m=r(3441),p=r(1733),g=r(1023),y=r(7836),b=r(1890),C=r(6779),q=r(5398),w=r(4642),D=r(7745);function k(e){var n=e.open,r=e.toggleOpen,a=e.deleteDocument,o=(0,s.Z)(i.useState(!0),2),l=o[0],c=o[1],d=function(e){"delete"===e.target.value?c(!1):c(!0)};return(0,t.jsxs)(b.Z,{open:n,onClose:r,children:[(0,t.jsx)(D.Z,{children:"Please Note"}),(0,t.jsxs)(q.Z,{children:[(0,t.jsx)(w.Z,{color:"error.main",children:'Document once deleted cannot be restored. Type "delete" below and click the DELETE button to continue, else click cancel.'}),(0,t.jsx)(y.Z,{autoFocus:!0,margin:"dense",id:"confirm",type:"text",fullWidth:!0,variant:"standard",placeholder:"delete",onChange:d})]}),(0,t.jsxs)(C.Z,{sx:{p:2},children:[(0,t.jsx)(v.Z,{onClick:r,children:"Cancel"}),(0,t.jsx)(v.Z,{variant:"contained",onClick:a,disabled:l,children:"Delete"})]})]})}var I=r(9396),E=r(3162),T=function(e){var n=e.children;return(0,t.jsx)(c.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",my:2},children:n})};function _(e){var n,r,y=e.title,b=e.details,C=(0,a.useRouter)(),q={Authorization:"Bearer ".concat(localStorage.getItem("galaxy-token")),"Content-type":"application/json"},w=C.query.reqId,D=(0,s.Z)(i.useState(!1),2),_=D[0],P=D[1],R=(n=(0,o.Z)(function(){var e;return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,fetch("/api/docs/".concat(w),{method:"DELETE",headers:q})];case 1:if(!e.sent().ok)return[3,3];return P(!1),[4,C.replace("/dashboard")];case 2:return e.sent(),[3,4];case 3:alert("error deleting document"),e.label=4;case 4:return[2]}})}),function(){return n.apply(this,arguments)}),B=function(){P(function(e){return!e})},L=(r=(0,o.Z)(function(e){var n,r,t;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return[4,fetch("/api/docs/".concat(w,"/download/?signed=").concat(e),{headers:q})];case 1:if(!(n=r.sent()).ok)return[3,3];return t=n.headers.get("Content-Disposition").split("filename=").pop(),[4,n.blob()];case 2:n=r.sent(),E.saveAs(n,t),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)});return(0,t.jsx)(j.Z,{title:y,children:(0,t.jsxs)(c.Z,{sx:{mb:"0","& .MuiFormControl-root":{margin:"10px 0",width:"100%"}},noValidate:!0,autoComplete:"off",children:[(0,t.jsxs)(d.ZP,{container:!0,columnSpacing:4,children:[(0,t.jsxs)(d.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"body1",color:"info.light",children:"Document Number"}),(0,t.jsx)(u.Z,{variant:"body1",children:b.docNo})]}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"body1",color:"info.light",children:"Document Type"}),(0,t.jsx)(u.Z,{variant:"body1",children:b.docType})]}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"body1",color:"info.light",children:"Issued On"}),(0,t.jsx)(u.Z,{variant:"body1",children:b.issuedOn})]}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"body1",color:"info.light",children:"Issued By"}),(0,t.jsx)(u.Z,{variant:"body1",children:"".concat(b.issuedBy.firstName," ").concat(b.issuedBy.lastName)})]})]}),(0,t.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,t.jsxs)(Z.Z,{sx:{py:1,px:2},elevation:5,children:[(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"overline",children:"Signed Document"}),b.certSignedPath?(0,t.jsx)(v.Z,{size:"small",variant:"contained",color:"success",startIcon:(0,t.jsx)(I.Z,{}),children:"Upload"}):(0,t.jsx)(h.Z,{size:"small","aria-label":"small button group",children:[(0,t.jsx)(v.Z,{size:"small",variant:"contained",color:"warning",startIcon:(0,t.jsx)(I.Z,{}),children:"Upload"}),(0,t.jsx)(v.Z,{size:"small",variant:"contained",color:"success",startIcon:(0,t.jsx)(m.Z,{}),children:"Download"})]})]}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"overline",children:"Un-signed Document"}),(0,t.jsx)(v.Z,{size:"small",variant:"contained",color:"warning",startIcon:(0,t.jsx)(f.Z,{}),onClick:function(){return L(!1)},children:"Download"})]}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"overline",color:"error.main",children:"Delete Document"}),(0,t.jsx)(v.Z,{size:"small",variant:"contained",color:"error",startIcon:(0,t.jsx)(p.Z,{}),onClick:function(){return B()},children:"Delete"})]})]})})]}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)(d.ZP,{container:!0,columnSpacing:4,children:[(0,t.jsx)(d.ZP,{item:!0,xs:12,md:12,sx:{mt:3,mb:1},children:(0,t.jsx)(u.Z,{variant:"overline",color:"secondary",children:"Issued To"})}),(0,t.jsxs)(d.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"body1",color:"info.light",children:"Employee Id"}),(0,t.jsx)(u.Z,{variant:"body1",children:b.issuedTo.empId})]}),(0,t.jsx)(x.Z,{})]}),(0,t.jsxs)(d.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"body1",color:"info.light",children:"Employee Name"}),(0,t.jsx)(u.Z,{variant:"body1",children:"".concat(b.issuedTo.firstName," ").concat(b.issuedTo.lastName)})]}),(0,t.jsx)(x.Z,{})]}),(0,t.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,t.jsxs)(T,{children:[(0,t.jsx)(u.Z,{variant:"body1",color:"info.light",children:"Employee Email"}),(0,t.jsx)(u.Z,{variant:"body1",children:"".concat(b.issuedTo.email)})]})})]}),(0,t.jsx)(x.Z,{}),(0,t.jsx)(c.Z,{sx:{width:"100%",textAlign:"right",my:3},children:(0,t.jsx)(v.Z,{size:"small",variant:"contained",color:"primary",startIcon:(0,t.jsx)(g.Z,{}),onClick:function(){return C.back()},children:"Go Back"})}),(0,t.jsx)(k,{open:_,toggleOpen:B,deleteDocument:R})]})})}var P=r(1397),R=r(8100),B=function(e,n){return fetch(e,{headers:{Authorization:n,"Content-type":"application/json"}}).then(function(e){return e.json()})},L=function(e,n){var r=(0,R.ZP)(["".concat("/api/docs","/").concat(e),n],B),t=r.data,i=r.error;return{details:t,isLoading:!i&&!t,isError:i}},N=r(4461),O="".concat("AiFi Office"," : Document Details");function V(){var e,n=L((0,a.useRouter)().query.reqId,"Bearer ".concat(localStorage.getItem("galaxy-token"))),r=n.details,i=n.isLoading;return(n.isError,i)?(0,t.jsx)(N.Z,{}):(0,t.jsx)(P.Z,{pageTitle:O,children:(0,t.jsx)(_,{title:"Document Details",details:r})})}V.authRequired=!0}},function(e){e.O(0,[483,372,164,495,908,774,888,179],function(){return e(e.s=4204)}),_N_E=e.O()}]);