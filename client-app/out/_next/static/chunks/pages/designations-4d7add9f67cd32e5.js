(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{9737:function(e,r,t){"use strict";var n=t(4836);r.Z=void 0;var i=n(t(4938)),a=t(5893),o=(0,i.default)((0,a.jsx)("path",{d:"M13.22 22.61c-.4.15-.8.29-1.22.39-5.16-1.26-9-6.45-9-12V5l9-4 9 4v6c0 .9-.11 1.78-.3 2.65-.81-.41-1.73-.65-2.7-.65-3.31 0-6 2.69-6 6 0 1.36.46 2.61 1.22 3.61zM19 20v2.99s-1.99.01-2 0V20h-3v-2h3v-3h2v3h3v2h-3z"}),"AddModerator");r.Z=o},1733:function(e,r,t){"use strict";var n=t(4836);r.Z=void 0;var i=n(t(4938)),a=t(5893),o=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");r.Z=o},6426:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/designations",function(){return t(3255)}])},7841:function(e,r,t){"use strict";var n=t(8100),i=function(e,r){return fetch(e,{headers:{Authorization:r,"Content-type":"application/json"}}).then(function(e){return e.json()})};r.Z=function(e){var r=(0,n.ZP)(["/api/designations/",e],i),t=r.data,a=r.error;return{designations:t,isLoading:!a&&!t,isError:a}}},6167:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(6042),i=t(828),a=t(5893),o=t(7294),s=t(9243),l=t(2741),d=o.forwardRef(function(e,r){return(0,a.jsx)(l.Z,(0,n.Z)({elevation:6,ref:r,variant:"filled"},e))});function u(e){var r=e.severity,t=e.msg,n=e.isOpen,l=e.parentStateFunc,u=void 0===l?null:l,c=(0,i.Z)(o.useState(n),2),v=c[0],f=c[1];o.useEffect(function(){f(n)},[n]);var h=function(e,r){"clickaway"!==r&&(f(!1),u&&u(!1))};return(0,a.jsx)(s.Z,{open:v,onClose:h,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,a.jsx)(d,{onClose:h,severity:r,sx:{width:"100%"},children:t})})}},4461:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(5893);t(7294);var i=t(1953),a=t(754);function o(){return(0,n.jsx)(i.Z,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(a.Z,{})})}},3850:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(5893);t(7294);var i=t(9837),a=t(9742),o=t(1359);function s(e){var r=e.title,t=e.children;return(0,n.jsxs)(i.Z,{sx:{width:"100%",pt:3},elevation:0,children:[(0,n.jsx)(a.Z,{title:r,sx:{color:"secondary.light"}}),(0,n.jsx)(o.Z,{sx:{width:"100%"},children:t})]})}t(2350),t(2697),t(3495),t(6186),t(7986),t(6167)},1397:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var n=t(5893);t(7294);var i=t(4288),a=t(9008),o=t.n(a),s=t(9072);function l(e){var r=e.pageTitle,t=e.children,a=e.sideComponent;return(0,n.jsxs)(i.Z,{maxWidth:"xxl",children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:r}),(0,n.jsx)("meta",{name:"description",content:"Office home"})]}),(0,n.jsxs)(s.ZP,{container:!0,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:9,children:t}),(0,n.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:3,children:void 0===a?null:a})]})]})}},8962:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var n=t(5893);t(7294);var i=t(4288),a=t(9008),o=t.n(a),s=t(9072);function l(e){var r=e.pageTitle,t=e.component1,a=e.component2;return(0,n.jsxs)(i.Z,{maxWidth:"xxl",children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:r}),(0,n.jsx)("meta",{name:"description",content:"Office home"})]}),(0,n.jsxs)(s.ZP,{container:!0,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,md:8,lg:9,children:t}),(0,n.jsx)(s.ZP,{item:!0,xs:12,md:4,lg:3,children:void 0===a?null:a})]})]})}},3495:function(e,r,t){"use strict";t.d(r,{Z:function(){return v}});var n=t(6042),i=t(5893);t(7294);var a=t(5343),o=t(7836),s=t(7536),l=t(2359),d=t(3436),u=t(1092),c=t(7424);function v(e){var r,t=e.id,v=e.label,f=e.control,h=e.minDate,x=e.maxDate,m=e.errors,Z=e.isRequired,g=e.defaultValue;return(0,i.jsxs)(a.Z,{variant:"standard",children:[(0,i.jsx)(s.Qr,{control:f,name:t,rules:{required:Z},defaultValue:void 0===g?"":g,render:function(e){var r=e.field,t=r.onChange,a=r.value;return(0,i.jsx)(l._,{dateAdapter:u.Z,children:(0,i.jsx)(d.$,{label:v,inputFormat:"dd/MM/yyyy",value:a,onChange:t,minDate:h,maxDate:x,renderInput:function(e){return(0,i.jsx)(o.Z,(0,n.Z)({sx:{marginTop:"7px !important",marginBottom:"0px !important"},variant:"standard"},e))}})})}}),(null===(r=m[t])||void 0===r?void 0:r.type)==="required"&&(0,i.jsx)(c.Z,{text:"".concat(v," is Required")})]})}},7986:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var n=t(5893);t(7294);var i=t(5343),a=t(8316),o=t(6480),s=t(7424),l=t(7536);function d(e){var r,t,d=e.id,u=e.label,c=e.isRequired,v=e.maxLength,f=e.control,h=e.errors,x=e.defaultValue;return(0,n.jsxs)(i.Z,{variant:"standard",children:[(0,n.jsx)(a.Z,{htmlFor:d,required:c,children:u}),(0,n.jsx)(l.Qr,{name:d,control:f,rules:{required:c,maxLength:v},defaultValue:void 0===x?"":x,render:function(e){var r=e.field,t=r.onBlur,i=r.onChange,a=r.value;return(0,n.jsx)(o.Z,{id:d,value:a,onBlur:t,onChange:i})}}),(null===(r=h[d])||void 0===r?void 0:r.type)==="required"&&(0,n.jsx)(s.Z,{text:"".concat(u," is Required")}),(null===(t=h[d])||void 0===t?void 0:t.type)==="maxLength"&&(0,n.jsx)(s.Z,{text:"Cannot be more than ".concat(v," chars")})]})}},2350:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(5893);t(7294);var i=t(5343),a=t(8316),o=t(6480),s=t(2631),l=t(7424),d=t(7536);function u(e){var r,t,u=e.id,c=e.label,v=e.isRequired,f=e.maxLength,h=e.control,x=e.errors,m=e.defaultValue,Z=e.disable,g=void 0!==Z&&Z,p=e.placeholder,j=void 0===p?"":p,y=e.helperText,b=void 0===y?"":y;return(0,n.jsxs)(i.Z,{variant:"standard",children:[(0,n.jsx)(a.Z,{htmlFor:u,required:v,children:c}),(0,n.jsx)(d.Qr,{name:u,control:h,rules:{required:v,maxLength:f},defaultValue:void 0===m?"":m,render:function(e){var r=e.field,t=r.onBlur,i=r.onChange,a=r.value;return(0,n.jsx)(o.Z,{id:u,value:a,onBlur:t,onChange:i,disabled:g,placeholder:j})}}),b&&(0,n.jsx)(s.Z,{id:"filled-weight-helper-text",children:b}),x&&(null===(r=x[u])||void 0===r?void 0:r.type)==="required"&&(0,n.jsx)(l.Z,{text:"".concat(c," is Required")}),x&&(null===(t=x[u])||void 0===t?void 0:t.type)==="maxLength"&&(0,n.jsx)(l.Z,{text:"Cannot be more than ".concat(f," chars")})]})}},6186:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(5893);t(7294);var i=t(5343),a=t(8316),o=t(6480),s=t(9041),l=t(7424),d=t(7536);function u(e){var r,t,u,c=e.id,v=e.label,f=e.isRequired,h=e.maxLength,x=e.control,m=e.errors,Z=e.defaultValue,g=e.adornVal,p=void 0===g?"":g;return(0,n.jsxs)(i.Z,{variant:"standard",children:[(0,n.jsx)(a.Z,{htmlFor:c,required:f,children:v}),(0,n.jsx)(d.Qr,{name:c,control:x,rules:{required:f,maxLength:h,validate:{isDigits:function(e){return!e||/^\d+$/.test(e)}}},defaultValue:void 0===Z?"":Z,render:function(e){var r=e.field,t=r.onBlur,i=r.onChange,a=r.value;return(0,n.jsx)(o.Z,{id:c,value:a,onBlur:t,onChange:i,startAdornment:(0,n.jsx)(s.Z,{position:"start",children:p})})}}),(null===(r=m[c])||void 0===r?void 0:r.type)==="required"&&(0,n.jsx)(l.Z,{text:"".concat(v," is Required")}),(null===(t=m[c])||void 0===t?void 0:t.type)==="maxLength"&&(0,n.jsx)(l.Z,{text:"Cannot be more than ".concat(h," chars")}),(null===(u=m[c])||void 0===u?void 0:u.type)==="isDigits"&&(0,n.jsx)(l.Z,{text:"Only digits allowed"})]})}},2697:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(5893);t(7294);var i=t(5343),a=t(8316),o=t(6541),s=t(7424),l=t(7536),d=t(1538);function u(e){var r,t=e.id,u=e.label,c=e.isRequired,v=e.values,f=e.control,h=e.errors,x=e.valKey,m=void 0===x?"key":x,Z=e.valLabel,g=void 0===Z?"label":Z,p=e.isReadOnly,j=void 0!==p&&p,y=e.defaultValue,b=e.additionalOnChange,w=void 0===b?null:b;return(0,n.jsxs)(i.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,n.jsx)(a.Z,{id:t,required:c,children:u}),(0,n.jsx)(l.Qr,{name:t,control:f,rules:{required:c},defaultValue:void 0===y?"":y,render:function(e){var r=e.field,i=r.onChange,a=(r.onBlur,r.value);return(0,n.jsx)(o.Z,{id:t,value:a,onChange:function(e){w?(i(e),w(e.target.value)):i(e)},disabled:j,children:v.map(function(e){return(0,n.jsx)(d.Z,{value:e[m],children:e[g]},e[m])})})}}),(null===(r=h[t])||void 0===r?void 0:r.type)==="required"&&(0,n.jsx)(s.Z,{text:"".concat(u," is Required")})]})}},7424:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(5893);t(7294);var i=t(9630),a=t(1953);function o(e){var r=e.text;return(0,n.jsx)(i.Z,{component:"span",children:(0,n.jsx)(a.Z,{sx:{color:"error.main",fontSize:"12px",paddingTop:"1px"},children:r})})}},3255:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return G}});var n=t(5893),i=t(7294);t(8962);var a=t(7568),o=t(828),s=t(9815),l=t(655),d=t(9072),u=t(1953),c=t(4225),v=t(3850),f=t(2350),h=t(918),x=t(7536),m=t(9737),Z=t(9630),g=t(1284),p=t(3366),j=t(7462),y=t(6010),b=t(4780),w=t(7742),C=t(1719),q=t(8884),R=t(4867),S=t(1588);function A(e){return(0,R.Z)("MuiListItemAvatar",e)}(0,S.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);let D=["className"],I=e=>{let{alignItems:r,classes:t}=e;return(0,b.Z)({root:["root","flex-start"===r&&"alignItemsFlexStart"]},A,t)},P=(0,C.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver(e,r){let{ownerState:t}=e;return[r.root,"flex-start"===t.alignItems&&r.alignItemsFlexStart]}})(({ownerState:e})=>(0,j.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})),k=i.forwardRef(function(e,r){let t=(0,q.Z)({props:e,name:"MuiListItemAvatar"}),{className:a}=t,o=(0,p.Z)(t,D),s=i.useContext(w.Z),l=(0,j.Z)({},t,{alignItems:s.alignItems}),d=I(l);return(0,n.jsx)(P,(0,j.Z)({className:(0,y.Z)(d.root,a),ownerState:l,ref:r},o))});var _=t(1702),M=t(5214),L=t(562),V=(0,t(8175).Z)((0,n.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function E(e){return(0,R.Z)("MuiAvatar",e)}(0,S.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);let F=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],N=e=>{let{classes:r,variant:t,colorDefault:n}=e;return(0,b.Z)({root:["root",t,n&&"colorDefault"],img:["img"],fallback:["fallback"]},E,r)},z=(0,C.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver(e,r){let{ownerState:t}=e;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})(({theme:e,ownerState:r})=>(0,j.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(e.vars||e).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,j.Z)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]}))),O=(0,C.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),T=(0,C.ZP)(V,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"}),B=i.forwardRef(function(e,r){let t=(0,q.Z)({props:e,name:"MuiAvatar"}),{alt:a,children:o,className:s,component:l="div",imgProps:d,sizes:u,src:c,srcSet:v,variant:f="circular"}=t,h=(0,p.Z)(t,F),x=null,m=function({crossOrigin:e,referrerPolicy:r,src:t,srcSet:n}){let[a,o]=i.useState(!1);return i.useEffect(()=>{if(!t&&!n)return;o(!1);let i=!0,a=new Image;return a.onload=()=>{i&&o("loaded")},a.onerror=()=>{i&&o("error")},a.crossOrigin=e,a.referrerPolicy=r,a.src=t,n&&(a.srcset=n),()=>{i=!1}},[e,r,t,n]),a}((0,j.Z)({},d,{src:c,srcSet:v})),Z=c||v,g=Z&&"error"!==m,b=(0,j.Z)({},t,{colorDefault:!g,component:l,variant:f}),w=N(b);return x=g?(0,n.jsx)(O,(0,j.Z)({alt:a,src:c,srcSet:v,sizes:u,ownerState:b,className:w.img},d)):null!=o?o:Z&&a?a[0]:(0,n.jsx)(T,{className:w.fallback}),(0,n.jsx)(z,(0,j.Z)({as:l,ownerState:b,className:(0,y.Z)(w.root,s),ref:r},h,{children:x}))});var Q=t(1733);function W(e){var r=e.dns,t=e.deleteDns;return(0,n.jsxs)(u.Z,{sx:{width:"100%"},children:[(0,n.jsx)(Z.Z,{variant:"subtitle1",color:"secondary",sx:{pb:1,borderBottom:"1px solid",borderColor:"grey.200"},children:"Available Designations"}),(0,n.jsx)(M.Z,{dense:!1,children:r&&r.length>0?r.map(function(e){return(0,n.jsxs)(g.ZP,{secondaryAction:(0,n.jsx)(L.Z,{edge:"end","aria-label":"delete",children:(0,n.jsx)(Q.Z,{sx:{color:"warning.main"},onClick:function(){return t(e._id)}})}),children:[(0,n.jsx)(k,{children:(0,n.jsx)(B,{children:e.name.split("")[0]})}),(0,n.jsx)(_.Z,{primary:"".concat(e.name)})]},e._id)}):(0,n.jsx)(Z.Z,{variant:"body2",color:"error",children:"No Designations Added"})})]})}var H=t(4461),X=t(7841);function $(e){var r=e.title,t="Bearer ".concat(localStorage.getItem("galaxy-token")),Z=(0,o.Z)(i.useState([]),2),g=Z[0],p=Z[1],j=(0,X.Z)(t),y=j.designations,b=j.isLoading;j.isError;var w=(0,x.cI)({mode:"onSubmit"}),C=w.control,q=w.handleSubmit,R=w.reset,S=w.formState.errors;i.useEffect(function(){p(y)},[y]);var A,D,I={Authorization:t,"Content-type":"application/json"},P=(A=(0,a.Z)(function(e){var r;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return[4,fetch("/api/designations/".concat(e),{method:"DELETE",headers:I})];case 1:return r.sent().ok?p(function(r){return r.filter(function(r){return r._id!==e})}):alert("Error deleting designation"),[2]}})}),function(e){return A.apply(this,arguments)}),k=(D=(0,a.Z)(function(e){var r;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return[4,fetch("/api/designations/add",{method:"POST",body:JSON.stringify(e),headers:I})];case 1:if(!(r=t.sent()).ok)return[3,3];return[4,r.json()];case 2:return r=t.sent(),p(function(e){return(0,s.Z)(e).concat([r])}),R(),[3,5];case 3:return[4,r.json()];case 4:alert((r=t.sent()).message),t.label=5;case 5:return[2]}})}),function(e){return D.apply(this,arguments)});return(0,n.jsx)(v.Z,{title:r,children:(0,n.jsx)(d.ZP,{container:!0,columnSpacing:6,children:(0,n.jsxs)(d.ZP,{item:!0,xs:12,md:8,lg:8,children:[(0,n.jsx)(u.Z,{component:"form",onSubmit:q(k),noValidate:!0,autoComplete:"off",sx:{mb:"0","& .MuiFormControl-root":{margin:"10px 0",width:"100%"}},children:(0,n.jsx)(d.ZP,{container:!0,spacing:4,children:(0,n.jsxs)(d.ZP,{item:!0,xs:12,md:12,sx:{textAlign:"right"},children:[(0,n.jsx)(f.Z,{id:"newDesignation",label:"New Designation",isRequired:!0,maxLength:100,control:C,errors:S}),(0,n.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",startIcon:(0,n.jsx)(m.Z,{}),sx:{width:["100%","100%",100]},children:"Add"})]})})}),(0,n.jsx)(h.Z,{elevation:2,sx:{p:2,mt:5},children:b?(0,n.jsx)(H.Z,{}):(0,n.jsx)(W,{dns:g,deleteDns:P})})]})})})}var J=t(1397),K="".concat("AiFi Office"," : Designations");function G(){return(0,n.jsx)(J.Z,{pageTitle:K,children:(0,n.jsx)($,{title:"Designations"})})}G.authRequired=!0},9815:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(943),i=t(3375),a=t(1566);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[483,372,164,495,774,888,179],function(){return e(e.s=6426)}),_N_E=e.O()}]);