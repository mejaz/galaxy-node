(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[387],{6068:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documents/search",function(){return r(390)}])},9012:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(828),o=r(5893),a=r(7294),i=r(918),s=r(244),c=r(9807),l=r(5605),u=r(6777),h=r(3978),d=r(2773),p=r(9417),m=r(1664),f=r.n(m);function x(e){var t=e.rows,r=e.cols,m=e.actionRoute,x=(0,n.Z)(a.useState(0),2),g=x[0],b=x[1],j=(0,n.Z)(a.useState(10),2),v=j[0],y=j[1],Z=function(e,t){b(t)},w=function(e){y(+e.target.value),b(0)};return(0,o.jsxs)(i.Z,{sx:{width:"100%",overflow:"hidden"},elevation:0,children:[(0,o.jsx)(u.Z,{sx:{maxHeight:440},children:(0,o.jsxs)(s.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,o.jsx)(h.Z,{children:(0,o.jsx)(p.Z,{children:r.map(function(e,t){return(0,o.jsx)(l.Z,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})})}),(0,o.jsx)(c.Z,{children:t.slice(g*v,g*v+v).map(function(e){return(0,o.jsx)(p.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:r.map(function(t,n){var a=e[t.id];return r.length-1===n?(0,o.jsx)(l.Z,{align:t.align,children:(0,o.jsx)(f(),{href:m?m.replace("#id",e._id):"#",children:(0,o.jsx)("a",{children:"View"})})},t.id):(0,o.jsx)(l.Z,{align:t.align,children:t.format&&"number"==typeof a?t.format(a):"boolean"==typeof a?String(a).toUpperCase():a},t.id)})},e.empId)})})]})}),(0,o.jsx)(d.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:t.length,rowsPerPage:v,page:g,onPageChange:Z,onRowsPerPageChange:w})]})}},8962:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5893);r(7294);var o=r(4288),a=r(9008),i=r.n(a),s=r(9072);function c(e){var t=e.pageTitle,r=e.component1,a=e.component2;return(0,n.jsxs)(o.Z,{maxWidth:"xxl",children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:t}),(0,n.jsx)("meta",{name:"description",content:"Office home"})]}),(0,n.jsxs)(s.ZP,{container:!0,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,md:8,lg:9,children:r}),(0,n.jsx)(s.ZP,{item:!0,xs:12,md:4,lg:3,children:void 0===a?null:a})]})]})}},6567:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(7568),o=r(828),a=r(9815),i=r(655),s=r(5893),c=r(7294),l=r(1953),u=r(9072),h=r(3850),d=r(2350),p=r(1812),m=r(8822),f=r(9012),x=r(7536),g=[{id:"empId",label:"Id",minWidth:50},{id:"firstName",label:"First Name",minWidth:170},{id:"lastName",label:"Last Name",minWidth:170},{id:"dob",label:"D.O.B.",minWidth:100},{id:"primaryMobile",label:"Primary Mobile",minWidth:170},{id:"action",label:"Action",minWidth:100},];function b(e){var t=e.title,r=(0,x.cI)({mode:"onSubmit"}),b=r.control,j=r.handleSubmit,v=(r.reset,r.formState.errors),y=(0,o.Z)(c.useState(!1),2),Z=y[0];y[1];var w,S=(0,o.Z)(c.useState([]),2),C=S[0],I=S[1],R={Authorization:"Bearer ".concat(localStorage.getItem("galaxy-token")),"Content-type":"application/json"},P=(w=(0,n.Z)(function(e){var t,r,n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return t=new URLSearchParams(e),[4,fetch("".concat("/api/user/search","?").concat(t),{headers:R})];case 1:if(!(n=r.sent()).ok)return[3,3];return[4,n.json()];case 2:return n=r.sent(),I((0,a.Z)(n)),console.log("okay"),[3,4];case 3:console.log("error"),r.label=4;case 4:return[2]}})}),function(e){return w.apply(this,arguments)});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{title:t,children:(0,s.jsxs)(l.Z,{component:"form",sx:{mb:"0","& .MuiFormControl-root":{margin:"10px 0",width:"100%"}},onSubmit:j(P),noValidate:!0,autoComplete:"off",children:[(0,s.jsxs)(u.ZP,{container:!0,columnSpacing:4,children:[(0,s.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,s.jsx)(d.Z,{id:"empId",label:"Employee ID",isRequired:!1,maxLength:50,control:b,errors:v,defaultValue:""})}),(0,s.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,s.jsx)(d.Z,{id:"firstName",label:"First Name",isRequired:!1,maxLength:50,control:b,errors:v,defaultValue:""})}),(0,s.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,s.jsx)(d.Z,{id:"lastName",label:"Last Name",isRequired:!1,maxLength:50,control:b,errors:v,defaultValue:""})})]}),(0,s.jsx)(l.Z,{sx:{textAlign:"right",my:2},children:(0,s.jsx)(p.Z,{loading:Z,size:"small",variant:"contained",endIcon:(0,s.jsx)(m.Z,{}),loadingPosition:"end",type:"Search",children:"Search"})})]})}),(0,s.jsx)(f.Z,{rows:C,cols:g,actionRoute:"/emp/#id/edit"})]})}},390:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(5893),o=r(7294);r(9008);var a=r(2350),i=r(9012);r(1987);var s=r(8962);r(9358),r(6567);var c=r(7568),l=r(828),u=r(9815),h=r(655),d=r(1953),p=r(9072),m=r(3850),f=r(1812),x=r(8822),g=r(7536),b=[{id:"docNo",label:"Doc No",minWidth:200},{id:"docType",label:"Doc type",minWidth:100},{id:"issuedTo",label:"Issued To",minWidth:150},{id:"issuedBy",label:"Issued By",minWidth:150},{id:"issuedOn",label:"Issued On",minWidth:100},{id:"isSignedUploaded",label:"Is Doc Signed?",minWidth:50},{id:"action",label:"Action",minWidth:50},];function j(e){var t=e.title,r=(0,g.cI)({mode:"onSubmit"}),s=r.control,j=r.handleSubmit,v=(r.reset,r.formState.errors),y=(0,l.Z)(o.useState(!1),2),Z=y[0];y[1];var w,S=(0,l.Z)(o.useState([]),2),C=S[0],I=S[1],R={Authorization:"Bearer ".concat(localStorage.getItem("galaxy-token")),"Content-type":"application/json"},P=(w=(0,c.Z)(function(e){var t,r,n;return(0,h.__generator)(this,function(r){switch(r.label){case 0:return t=new URLSearchParams(e),[4,fetch("".concat("/api/docs/search","?").concat(t),{headers:R})];case 1:if(!(n=r.sent()).ok)return[3,3];return[4,n.json()];case 2:return n=r.sent(),I((0,u.Z)(n)),console.log("okay"),[3,4];case 3:console.log("error"),r.label=4;case 4:return[2]}})}),function(e){return w.apply(this,arguments)});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{title:t,children:(0,n.jsxs)(d.Z,{component:"form",sx:{mb:"0","& .MuiFormControl-root":{margin:"10px 0",width:"100%"}},onSubmit:j(P),noValidate:!0,autoComplete:"off",children:[(0,n.jsxs)(p.ZP,{container:!0,columnSpacing:4,children:[(0,n.jsx)(p.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(a.Z,{id:"docNo",label:"Document Number",isRequired:!1,maxLength:50,control:s,errors:v})}),(0,n.jsx)(p.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(a.Z,{id:"empId",label:"Employee Id",isRequired:!1,maxLength:10,control:s,errors:v})}),(0,n.jsx)(p.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(a.Z,{id:"lastName",label:"Employee Last Name",isRequired:!1,maxLength:50,control:s,errors:v,defaultValue:"",helperText:"Last Name of the employee to whom doc was issued"})})]}),(0,n.jsx)(d.Z,{sx:{textAlign:"right",my:2},children:(0,n.jsx)(f.Z,{loading:Z,size:"small",variant:"contained",endIcon:(0,n.jsx)(x.Z,{}),loadingPosition:"end",type:"Search",children:"Search"})})]})}),(0,n.jsx)(i.Z,{rows:C,cols:b,actionRoute:"/emp/docs/#id"})]})}var v="".concat("AiFi Office"," : Search Document");function y(){return(0,n.jsx)(s.Z,{pageTitle:v,component1:(0,n.jsx)(j,{title:"Search Document"})})}y.authRequired=!0},1987:function(e,t,r){!function(){var t={477:function(e){"use strict";e.exports=r(7334)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}},i=!0;try{t[e](a,a.exports,o),i=!1}finally{i&&delete n[e]}return a.exports}o.ab="//";var a={};!function(){var e,t=a,r=(e=o(477))&&"object"==typeof e&&"default"in e?e.default:e,n=/https?|ftp|gopher|file/;function i(e){"string"==typeof e&&(e=b(e));var t,o,a,i,s,c,l,u,h,d,p,m=(i=(t=e).auth,s=t.hostname,c=t.protocol||"",l=t.pathname||"",u=t.hash||"",h=t.query||"",d=!1,i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",t.host?d=i+t.host:s&&(d=i+(~s.indexOf(":")?"["+s+"]":s),t.port&&(d+=":"+t.port)),h&&"object"==typeof h&&(h=r.encode(h)),p=t.search||h&&"?"+h||"",c&&":"!==c.substr(-1)&&(c+=":"),t.slashes||(!c||n.test(c))&&!1!==d?(d="//"+(d||""),l&&"/"!==l[0]&&(l="/"+l)):d||(d=""),u&&"#"!==u[0]&&(u="#"+u),p&&"?"!==p[0]&&(p="?"+p),{protocol:c,host:d,pathname:l=l.replace(/[?#]/g,encodeURIComponent),search:p=p.replace("#","%23"),hash:u});return""+m.protocol+m.host+m.pathname+m.search+m.hash}var s="http://",c=s+"w.w",l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,u=/https?|ftp|gopher|file/;function h(e,t){var r="string"==typeof e?b(e):e;e="object"==typeof e?i(e):e;var n=b(t),o="";r.protocol&&!r.slashes&&(o=r.protocol,e=e.replace(r.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&n.protocol&&(o="",n.slashes||(o=n.protocol,t=t.replace(n.protocol,"")));var a=e.match(l);a&&!n.protocol&&(e=e.substr((o=a[1]+(a[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var h=new URL(e,c+"/"),d=new URL(t,h).toString().replace(c,""),p=n.protocol||r.protocol;return p+=r.slashes||n.slashes?"//":"",!o&&p?d=d.replace(s,p):o&&(d=d.replace(s,"")),u.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),o&&(d=o+("/"===d[0]?d.substr(1):d)),d}function d(){}d.prototype.parse=b,d.prototype.format=i,d.prototype.resolve=h,d.prototype.resolveObject=h;var p=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,f=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,x=/^([a-z0-9.+-]*:)?\/\/\/*/i,g=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function b(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof d)return e;var o=(e=e.trim()).match(m);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),g.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(f),s=x.test(e),l="";a&&(p.test(a[1])||(l=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(s=!1,p.test(a[1])?(l=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(l=a[1],e="/"+a[3]));var u,h=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),b=h&&h[1],j=new d,v="",y="";try{u=new URL(e)}catch(w){v=w,l||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(y="/",e=e.substr(1));try{u=new URL(e,c)}catch(Z){return j.protocol=l,j.href=l,j}}j.slashes=s&&!y,j.host="w.w"===u.host?"":u.host,j.hostname="w.w"===u.hostname?"":u.hostname.replace(/(\[|\])/g,""),j.protocol=v?l||null:u.protocol,j.search=u.search.replace(/\\/g,"%5C"),j.hash=u.hash.replace(/\\/g,"%5C");var S,C=e.split("#");!j.search&&~C[0].indexOf("?")&&(j.search="?"),j.hash||""!==C[1]||(j.hash="#"),j.query=t?r.decode(u.search.substr(1)):j.search.substr(1),j.pathname=y+(a?(S=u.pathname).replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(r){return t}}):u.pathname),"about:"===j.protocol&&"blank"===j.pathname&&(j.protocol="",j.pathname=""),v&&"/"!==e[0]&&(j.pathname=j.pathname.substr(1)),l&&!p.test(l)&&"/"!==e.slice(-1)&&"/"===j.pathname&&(j.pathname=""),j.path=j.pathname+j.search,j.auth=[u.username,u.password].map(decodeURIComponent).filter(Boolean).join(":"),j.port=u.port,b&&!j.host.endsWith(b)&&(j.host+=b,j.port=b.slice(1)),j.href=y?""+j.pathname+j.search+j.hash:i(j);var I=/^(file)/.test(j.href)?["host","hostname"]:[];return Object.keys(j).forEach(function(e){~I.indexOf(e)||(j[e]=j[e]||null)}),j}t.parse=b,t.format=i,t.resolve=h,t.resolveObject=function(e,t){return b(h(e,t))},t.Url=d}(),e.exports=a}()},7334:function(e){!function(){"use strict";var t={815:function(e){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,o,a){n=n||"&",o=o||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(n);var c=1e3;a&&"number"==typeof a.maxKeys&&(c=a.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,d,p,m,f=e[u].replace(s,"%20"),x=f.indexOf(o);x>=0?(h=f.substr(0,x),d=f.substr(x+1)):(h=f,d=""),p=decodeURIComponent(h),m=decodeURIComponent(d),t(i,p)?r(i[p])?i[p].push(m):i[p]=[i[p],m]:i[p]=m}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,i,s){return(a=a||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?n(o(e),function(o){var s=encodeURIComponent(t(o))+i;return r(e[o])?n(e[o],function(e){return s+encodeURIComponent(t(e))}).join(a):s+encodeURIComponent(t(e[o]))}).join(a):s?encodeURIComponent(t(s))+i+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}},i=!0;try{t[e](a,a.exports,n),i=!1}finally{i&&delete r[e]}return a.exports}n.ab="//";var o,a={};(o=a).decode=o.parse=n(815),o.encode=o.stringify=n(577),e.exports=a}()}},function(e){e.O(0,[483,372,164,495,661,637,350,774,888,179],function(){return e(e.s=6068)}),_N_E=e.O()}]);